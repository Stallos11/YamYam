import{d as R,u as F,r as a,c as i,a as e,b as o,w as r,e as N,f as t,g as s,o as d,h as v,i as P,j as S,k as T,R as A,F as I}from"./index-db6abb89.js";const L={class:"card bg-light rounded-2 overflow-visible mt-4 light-shadow-4 mb-4"},j=e("div",{class:"robot"},null,-1),q=e("h1",{class:"card-header text-center my-2 font-s5 font-w500"},"Forgot password ?",-1),H={class:"card-content"},M={class:"text-center"},U={class:"d-flex fx-center my-4 captcha"},Y={class:"card-footer pb-0 px-0"},z={key:0,class:"spinner spinner-small text-primary"},D=e("svg",{viewBox:"25 25 50 50"},[e("circle",{class:"spinner-path",cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"3"})],-1),G=[D],Q=R({__name:"ForgotPassword",setup(J){const c=F(),x={}.VITE_RECAPTCHA_KEY,l=a({}),_=a(),n=a(!1),m=a(""),f=a(null),y=p=>{m.value=p,n.value=!0},k=()=>{n.value=!1},w=()=>{n.value=!1},u=()=>{_.value.validate()&&(c.forgotPassword(l.value.email,m.value),f.value.reset())};return(p,h)=>{const g=s("router-link"),b=s("ax-form-control"),E=s("ax-form-field"),V=s("ax-form"),C=s("Icon"),B=s("ax-btn");return d(),i("div",L,[j,q,e("div",H,[e("div",M,[o(g,{to:"/login",class:"text-primary font-w500"},{default:r(()=>[v("Back to login.")]),_:1})]),o(V,{ref_key:"form",ref:_,class:"mt-4",onKeypress:N(T(u,["prevent"]),["enter"])},{default:r(()=>[o(E,{label:"Email*"},{default:r(()=>[o(b,{type:"email",modelValue:l.value.email,"onUpdate:modelValue":h[0]||(h[0]=K=>l.value.email=K),rules:[t(P),t(S)]},null,8,["modelValue","rules"])]),_:1})]),_:1},8,["onKeypress"]),e("div",U,[o(t(A),{ref_key:"captcha",ref:f,sitekey:t(x),"load-recaptcha-script":!0,theme:"dark",onVerify:y,onExpired:w,onError:k},null,8,["sitekey"])])]),e("div",Y,[o(B,{class:"w100 primary d-flex fx-center vcenter",onClick:u,disabled:t(c).isLoading||!n.value},{default:r(()=>[t(c).isLoading?(d(),i("div",z,G)):(d(),i(I,{key:1},[v(" Send "),o(C,{icon:"mdi:email-arrow-right",class:"ml-1"})],64))]),_:1},8,["disabled"])])])}}});export{Q as default};
