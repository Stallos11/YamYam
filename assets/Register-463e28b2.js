import{d as B,u as I,r as c,o as m,c as v,a as s,b as e,w as o,e as h,f as t,g as p,h as N,p as K,i as P,R as L,F as M,j as n,k as U}from"./index-f29967e5.js";const W={class:"h100 d-flex fx-center vcenter auth-card"},j={class:"card bg-dark rounded-2 overflow-visible mt-5 light-shadow-4"},q=s("div",{class:"robot"},null,-1),F=s("h1",{class:"card-header text-center my-2 font-s5 font-w500"},"Inscription",-1),T={class:"card-content"},D={class:"text-center"},H={class:"text-center mt-3"},J={class:"d-flex fx-center my-4 captcha"},O=s("div",{class:"social-divider my-3"},[s("span"),s("p",{class:"text-center"},"Ou avec")],-1),X={class:"d-flex fx-center social-auth-icons"},G={class:"card-footer pb-0 px-0"},Q={key:0,class:"spinner spinner-small text-primary"},Y=s("svg",{viewBox:"25 25 50 50"},[s("circle",{class:"spinner-path",cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"3"})],-1),Z=[Y],se=B({__name:"Register",setup($){const i=I(),E="6LcggW0kAAAAAIBPh7SXqoEofNWpSmibvJIfHEoh",a=c({}),x=c(),d=c(!1),y=c(""),w=c(null),C=u=>{y.value=u,d.value=!0},R=()=>{d.value=!1},S=()=>{d.value=!1},A=u=>u===a.value.password||"Password doesn't match",g=()=>{x.value.validate()&&(i.register(a.value,y.value),w.value.reset())};return(u,l)=>{const k=n("router-link"),f=n("ax-form-control"),_=n("ax-form-field"),z=n("ax-form"),b=n("Icon"),V=n("ax-btn");return m(),v("div",W,[s("div",j,[q,F,s("div",T,[s("div",D,[e(k,{to:"/login",class:"text-primary font-w500"},{default:o(()=>[h("Déjà inscrit ? Connectez-vous !")]),_:1})]),e(z,{ref_key:"form",ref:x,class:"mt-4",onKeypress:P(U(g,["prevent"]),["enter"])},{default:o(()=>[e(_,{label:"Email*"},{default:o(()=>[e(f,{type:"email",modelValue:a.value.email,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value.email=r),lazy:"",rules:[t(p),t(N)]},null,8,["modelValue","rules"])]),_:1}),e(_,{label:"Pseudo*"},{default:o(()=>[e(f,{type:"text",modelValue:a.value.firstname,"onUpdate:modelValue":l[1]||(l[1]=r=>a.value.firstname=r),lazy:"",rules:[t(p)]},null,8,["modelValue","rules"])]),_:1}),e(_,{label:"Mot de passe*"},{default:o(()=>[e(f,{type:"password",modelValue:a.value.password,"onUpdate:modelValue":l[2]||(l[2]=r=>a.value.password=r),lazy:"",rules:[t(p),t(K)]},null,8,["modelValue","rules"])]),_:1}),e(_,{label:"Confirmation*"},{default:o(()=>[e(f,{type:"password",rules:[t(p),A]},null,8,["rules"])]),_:1})]),_:1},8,["onKeypress"]),s("div",H,[e(k,{to:"/forgot-password",class:"text-grey text-light-2"},{default:o(()=>[h("Mot de passe oublié ?")]),_:1})]),s("div",J,[e(t(L),{ref_key:"captcha",ref:w,sitekey:t(E),"load-recaptcha-script":!0,theme:"dark",onVerify:C,onExpired:S,onError:R},null,8,["sitekey"])]),O,s("div",X,[e(V,{class:"rounded-2 white d-flex vcenter fx-center shadow-1",circle:"",onClick:l[3]||(l[3]=()=>t(i).redirectWithSocial("google"))},{default:o(()=>[e(b,{icon:"flat-color-icons:google",size:"50"})]),_:1})])]),s("div",G,[e(V,{class:"w100 primary d-flex fx-center vcenter",onClick:g,disabled:t(i).isLoading||!d.value},{default:o(()=>[t(i).isLoading?(m(),v("div",Q,Z)):(m(),v(M,{key:1},[h(" S'inscrire "),e(b,{icon:"bx:log-in",class:"ml-1"})],64))]),_:1},8,["disabled"])])])])}}});export{se as default};
