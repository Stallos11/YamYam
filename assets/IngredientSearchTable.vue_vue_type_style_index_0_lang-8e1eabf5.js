import{d as v,A as y,v as $,o as c,s as g,w as r,a as e,t as d,f as t,e as S,B as V,j as _,r as h,C as D,b as x,c as T}from"./index-5dc890c6.js";const E={class:"d-flex fx-col vcenter"},R={class:"my-0 ml-3 text-white font-s3"},B={class:"grix xs2 gutter-xs2 py-4"},N=["href"],A=["src"],M=e("div",{class:"divider white my-3"},null,-1),O=e("p",{class:"text-center"},"Nutriments / 100g",-1),U={class:"d-flex fx-col px-3"},q={class:"nutri"},F=e("span",null,"Energie",-1),G={class:"nutri"},J=e("span",null,"Gras",-1),L={class:"nutri"},j=e("span",null,"Acides gras saturés",-1),z={class:"nutri"},H=e("span",null,"Glucides",-1),P={class:"nutri"},K=e("span",null,"Sucres",-1),Q={class:"nutri"},W=e("span",null,"Protéines",-1),X={class:"nutri"},Y=e("span",null,"Sel",-1),de=v({__name:"IngredientDetailModal",props:["type"],setup(m){const i=m,s=y(),a=$();return(u,o)=>{const l=_("ax-btn"),f=_("ax-modal");return c(),g(f,{class:"bg-dark rounded-1 shadow-1 h100",modelValue:t(s).isModalDetailOpened,"onUpdate:modelValue":o[2]||(o[2]=n=>t(s).isModalDetailOpened=n)},{header:r(()=>[e("div",E,[e("p",R,d(t(s).selectedIngredient.product_name),1),e("div",B,[e("a",{class:"btn secondary py-1 px-3 rounded-2 font-s2",href:`https://fr.openfoodfacts.org/produit/${t(s).selectedIngredient.openfoodfact_id}`,target:"_blank"}," DETAILS ",8,N),i.type=="create"&&t(a).recipeCreate.ingredients.find(n=>n.id==t(s).selectedIngredient.id)==null?(c(),g(l,{key:0,onClick:o[0]||(o[0]=n=>t(a).addIngredientToCreateRecipe()),class:"primary font-s2 px-3 py-1 rounded-2"},{default:r(()=>[S("AJOUTER")]),_:1})):V("",!0),i.type=="edit"&&t(a).recipeEdit.ingredients.find(n=>n.id==t(s).selectedIngredient.id)==null?(c(),g(l,{key:1,onClick:o[1]||(o[1]=n=>t(a).addIngredientToEditRecipe()),class:"primary font-s2 px-3 py-1 rounded-2"},{default:r(()=>[S("AJOUTER")]),_:1})):V("",!0)]),e("img",{style:{"max-height":"30vh"},class:"responsive-media",src:t(s).selectedIngredient.img},null,8,A)]),M]),default:r(()=>{var n,p,I,b,k,w,C;return[O,e("div",U,[e("div",q,[F,e("span",null,d(+((n=t(s).selectedIngredient)==null?void 0:n.kcal))+" kCal",1)]),e("div",G,[J,e("span",null,d(+((p=t(s).selectedIngredient)==null?void 0:p.fat))+" g",1)]),e("div",L,[j,e("span",null,d(+((I=t(s).selectedIngredient)==null?void 0:I.saturated_fat))+" g",1)]),e("div",z,[H,e("span",null,d(+((b=t(s).selectedIngredient)==null?void 0:b.carbohydrates))+" g",1)]),e("div",P,[K,e("span",null,d(+((k=t(s).selectedIngredient)==null?void 0:k.sugars))+" g",1)]),e("div",Q,[W,e("span",null,d(+((w=t(s).selectedIngredient)==null?void 0:w.proteins))+" g",1)]),e("div",X,[Y,e("span",null,d(+((C=t(s).selectedIngredient)==null?void 0:C.salt))+" g",1)])])]}),_:1},8,["modelValue"])}}});const Z={class:"grix xs1 sm2"},ie=v({__name:"IngredientSearch",setup(m){const i=h("product_name"),s=h(""),a=y();return D(s,(u,o)=>{u.length>2&&a.searchIngredientBy(i.value,s.value)}),(u,o)=>{const l=_("ax-form-control"),f=_("ax-form-field"),n=_("ax-form");return c(),g(n,{class:"d-flex fx-col"},{default:r(()=>[e("div",Z,[e("div",null,[x(f,{label:"Recherche"},{default:r(()=>[x(l,{tag:"input",modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=p=>s.value=p),type:"text"},null,8,["modelValue"])]),_:1})])])]),_:1})}}}),ee=[{text:"Nom du produit",value:"product_name",sortable:!0}],te={key:0,class:"py-2"},se={key:1,class:"spinner text-blue mx-auto my-5"},ne=e("svg",{viewBox:"25 25 50 50"},[e("circle",{class:"spinner-path",cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"3"})],-1),oe=[ne],le=v({__name:"IngredientSearchTable",setup(m){const i=h(""),s=h(""),a=y();return(u,o)=>{const l=_("EasyDataTable");return t(a).isLoading?(c(),T("div",se,oe)):(c(),T("div",te,[x(l,{"search-field":i.value,"search-value":s.value,"table-class-name":"customize-table","header-text-direction":"center","body-text-direction":"center","buttons-pagination":"","empty-message":"Chercher des ingredients","rows-per-page":10,headers:t(ee),items:t(a).ingredients,alternating:"","hide-rows-per-page":"",onClickRow:t(a).showIngredientDetails},null,8,["search-field","search-value","headers","items","onClickRow"])]))}}});export{ie as _,le as a,de as b};
